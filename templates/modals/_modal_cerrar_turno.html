{#
    Modal para cerrar el turno
#}

<div class="modal" id="modalCerrarTurno">
    <div class="modal-contenido">
        <div class="modal-header">
            <h3>ğŸ”’ Cerrar Turno</h3>
            <span class="cerrar" onclick="cerrarModalCerrarTurno()">âœ–</span>
        </div>

        <div class="modal-body">
            <div class="aviso-cierre">
                <p>âš ï¸ Al cerrar el turno se generarÃ¡ un reporte y cerrarÃ¡ tu sesiÃ³n.</p>
            </div>

            <!-- Declarar efectivo -->
            <div class="form-group">
                <label>ğŸ’µ Efectivo en Caja (contar y declarar)</label>
                <input type="number" id="efectivoDeclarado" placeholder="Ingrese el monto de efectivo"
                       min="0" step="0.5">
            </div>

            <!-- Declarar yape -->
            <div class="form-group">
                <label><img src="/static/img/yape.png" alt="Yape" class="yape-icon"> Total Yape (revisar app y declarar)</label>
                <input type="number" id="yapeDeclarado" placeholder="Ingrese el monto de Yape"
                       min="0" step="0.5">
            </div>

            <!-- Resumen del cierre -->
            <div id="resumenCierre" class="resumen-cierre" style="display: none;">
                <h4>ğŸ“Š Resumen del Turno</h4>

                <div class="resumen-grid">
                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ“¥ Autos ingresados:</span>
                        <span id="cierreAutosIngresados">0</span>
                    </div>
                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ“¤ Autos salieron:</span>
                        <span id="cierreAutosSalieron">0</span>
                    </div>

                    <div class="resumen-separator"></div>

                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ’µ Efectivo sistema:</span>
                        <span>S/ <span id="cierreTotalEfectivo">0.00</span></span>
                    </div>
                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ’µ Efectivo declarado:</span>
                        <span>S/ <span id="cierreEfectivoDeclarado">0.00</span></span>
                    </div>
                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ“Š Diferencia efectivo:</span>
                        <span id="cierreDifEfectivo" class="texto-exito">S/ 0.00</span>
                    </div>

                    <div class="resumen-separator"></div>

                    <div class="resumen-item">
                        <span class="resumen-label"><img src="/static/img/yape.png" alt="Yape" class="yape-icon"> Yape sistema:</span>
                        <span>S/ <span id="cierreTotalYape">0.00</span></span>
                    </div>
                    <div class="resumen-item">
                        <span class="resumen-label"><img src="/static/img/yape.png" alt="Yape" class="yape-icon"> Yape declarado:</span>
                        <span>S/ <span id="cierreYapeDeclarado">0.00</span></span>
                    </div>
                    <div class="resumen-item">
                        <span class="resumen-label">ğŸ“Š Diferencia Yape:</span>
                        <span id="cierreDifYape" class="texto-exito">S/ 0.00</span>
                    </div>

                    <div class="resumen-separator"></div>

                    <div class="resumen-item destacado">
                        <span class="resumen-label">ğŸ“Š Diferencia Total:</span>
                        <span id="cierreDiferencia" class="texto-exito">S/ 0.00</span>
                    </div>
                </div>
            </div>

            <!-- Observaciones -->
            <div class="form-group">
                <label>ğŸ“ Observaciones del turno</label>
                <textarea id="observacionesCierre" rows="2"
                          placeholder="Novedades, incidentes, etc."></textarea>
            </div>
        </div>

        <div class="modal-footer">
            <button class="btn btn-secundario" onclick="cerrarModalCerrarTurno()">Cancelar</button>
            <button class="btn btn-info" id="btnCalcularCierre" onclick="calcularCierre()">
                ğŸ” Calcular Cierre
            </button>
            <button class="btn btn-danger" id="btnConfirmarCierre" onclick="confirmarCierreTurno()"
                    style="display: none;">
                ğŸ”’ Confirmar Cierre
            </button>
        </div>
    </div>
</div>
